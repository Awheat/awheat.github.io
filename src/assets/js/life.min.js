!function(i){var t={tpl:["article","album","sounds"],api:{article:"./data/article.json",album:"./data/album.json",sounds:"./data/sounds.json"},init:function(){this.tab_lis=i(".tab-titles li"),this.tab_active=i("li.active"),this.tab_items=i("div.cont-items"),this.index=this.tab_active.index(),this.loading=i(".tab-contents"),this.loadArticleData(),this["switch"](this.tab_active,this.index),this.bind()},render:function(i,t,a){i.html(template(t,a))},bind:function(){var t=this;this.tab_lis.each(function(){var a=i(this);a.click(function(){var i=a.index(),n=null;switch(i){case 0:n=t.api.article;break;case 1:n=t.api.album;break;case 2:n=t.api.sounds}t.ajaxGetData(n,function(i){t.loading.addClass("loading")},function(n){t.loading.removeClass("loading"),t.render(t.tab_items.eq(i),t.tpl[i],n),t["switch"](a,i)},function(i,t){},function(i,t,a){})})}),this.tab_items.on("click","li",function(){var t=i(this).parent("ul.album-wraper").hide().end();i(".items"+t.index()).fadeIn()})},"switch":function(i,t){i.addClass("active").siblings("li").removeClass("active"),this.tab_items.eq(t).show().siblings("div").hide()},ajaxGetData:function(t,a,n,e,s){i.ajax({type:"GET",url:t,dataType:"json",cache:!0,beforeSend:a,success:n,complete:e,error:s})},loadArticleData:function(){var i=this;this.ajaxGetData(this.api.article,function(t){i.loading.addClass("loading")},function(t,a){i.loading.removeClass("loading");var n=i.tab_items.eq(i.index);i.render(n,i.tpl[0],t)},function(i,t){},function(i,t,a){})}};t.init()}(jQuery);